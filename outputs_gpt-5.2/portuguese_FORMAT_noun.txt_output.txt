Noun:
  Features:
    u-Gender:
    - u-masc
    - u-fem
    u-Number:
    - u-pl
    x-Derivation:
    - x-dim
    - x-aug
    x-Register:
    - x-informal
    - x-formal
  Rules:
    u-Number_u-pl:
      applies:
        u-Number: u-pl
      patterns:
      - pattern: _sg_ + _ending_
        endings:
        - features:
            x-Environment: x-sg-ends-in-vowel
          form: s
          note: add -s if the singular ends in a vowel
        - features:
            x-Environment: x-sg-ends-in-n-r-z
          form: es
          note: add -es if the singular ends in n, r, or z
        - features:
            x-Environment: x-sg-ends-in-s-stressed-last-syllable
          form: es
          note: if the singular ends in s and the last syllable is stressed, add -es
        - features:
            x-Environment: x-sg-ends-in-s-unstressed-last-syllable
          form: ''
          note: if the singular ends in s and the last syllable is not stressed, plural is the same as the singular
        - features:
            x-Environment: x-sg-ends-in-m
          form: ns
          note: words ending in m change m to ns
        - features:
            x-Environment: x-sg-ends-in-l
          form: is
          note: words ending in l change l to -is (e.g. animal → animais)
        - features:
            x-Environment: x-sg-ends-in-ão
          form: ães/ões/s
          note: 'words ending in ão vary: some replace ão with ães, others with ões, and others add -s'
      note: Portuguese plural formation depends on the final segment of the singular form.
    x-Derivation_x-dim:
      applies:
        x-Derivation: x-dim
      patterns:
      - pattern: _base_ (ends in -o/-a) → replace with -inho/-inha
        examples:
        - casa → casinha
      - pattern: _base_ (stress on last syllable) + -zinho/-zinha
        examples:
        - café → cafezinho
      - pattern: _base_ + diminutive suffix
        endings:
        - features: {}
          form: inho/inha
          note: most common diminutive endings; replace -o and -a respectively
        - features: {}
          form: zinho/zinha
          note: typically used when the base has final stress
        - features: {}
          form: ito/ita
          note: possible diminutive ending
        - features: {}
          form: ico/ica
          note: possible diminutive ending
        - features: {}
          form: (z)ete
          note: possible diminutive ending
        - features: {}
          form: ote
          note: possible ending listed among diminutives/augmentatives
        - features: {}
          form: oto
          note: possible ending listed among diminutives/augmentatives
        - features: {}
          form: ejo
          note: possible ending listed among diminutives/augmentatives
        - features: {}
          form: acho
          note: possible ending listed among diminutives/augmentatives
        - features: {}
          form: ola
          note: possible ending listed among diminutives/augmentatives
        - features: {}
          form: el
          note: possible ending listed among diminutives/augmentatives
      examples:
      - pouco → pouquinho
      note: In writing, c (but not ç) may become qu in some words to preserve [k] (e.g. pouco → pouquinho).
    x-Derivation_x-aug:
      applies:
        x-Derivation: x-aug
      patterns:
      - pattern: _base_ + augmentative suffix
        endings:
        - features:
            u-Gender: u-masc
          form: ão
          note: common masculine augmentative ending
        - features:
            u-Gender: u-fem
          form: ona
          note: common feminine augmentative ending
        - features: {}
          form: aço/aça
          note: other augmentative ending
        - features: {}
          form: eirão
          note: other, less frequently used augmentative ending
      examples:
      - mulher → mulheraça
      - voz → vozeirão
      note: Sometimes the masculine augmentative can be applied to a feminine noun, yielding a grammatically masculine noun with feminine meaning (e.g. a mulher / o mulherão).
