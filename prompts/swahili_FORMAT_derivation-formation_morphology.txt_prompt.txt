SYSTEM PROMPT:
You are an expert in the swahili language. You excel at inspecting linguistic data from different sources and distilling them into a specific format.

USER PROMPT:
You are a linguist tasked with normalizing grammatical descriptions for the language swahili.

The data you receive comes from multiple sources and relates to the following topics:
derivation, formation, morphology.

Your goal is to transform the data into a structure that EXACTLY matches the reference schema provided.

REFERENCE SCHEMA (structure and headings must be followed exactly):
{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Grammar File Schema",
  "type": "object",

  "$defs": {
    "endings": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features", "form"]
    },
    "forms": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "pattern": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features"],
      "oneOf": [
        { "required": ["form"] },
        { "required": ["pattern"] }
      ]
    },
    "applies": {
      "type": "object",
      "description": "Feature-value constraints for the rule/usage"
    },
    "examples": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },
    "patterns": {
      "type": "object",
      "properties": {
        "pattern": { "type": "string" },
        "examples": { "$ref": "#/$defs/examples" },
        "note": { "$ref": "#/$defs/note" },
        "endings": {
          "type": "array",
          "items": { "$ref": "#/$defs/endings" }
        },
        "forms": {
          "type": "array",
          "items": { "$ref": "#/$defs/forms" }
        }
      },
      "oneOf": [
        { "required": ["pattern"] },
        { "required": ["forms"] }
      ]
    },
    "note": {
      "type": "string"
    }
  },

  "patternProperties": {
    "^[A-Z][A-Za-z0-9-]*$": {
      "type": "object",
      "required": ["Features", "Rules"],
      "properties": {
        "Features": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "Usage": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "note": { "$ref": "#/$defs/note" },
              "examples": { "$ref": "#/$defs/examples" }
            },
            "anyOf": [
              { "required": ["applies"] },
              { "required": ["note"] },
              { "required": ["examples"] }
            ]
          }
        },
        "Negation": {
          "type": "object",
          "required": ["examples"],
          "properties": {
            "pattern": { "type": "string" },
            "examples": { "$ref": "#/$defs/examples" },
            "note": { "$ref": "#/$defs/note" }
          }
        },
        "Rules": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": ["applies"],
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "pattern": { "type": "string" },
              "patterns": {
                "type": "array",
                "items": { "$ref": "#/$defs/patterns" }
              },
              "endings": {
                "type": "array",
                "items": { "$ref": "#/$defs/endings" }
              },
              "forms": {
                "type": "array",
                "items": { "$ref": "#/$defs/forms" }
              },
              "examples": { "$ref": "#/$defs/examples" },
              "note": { "$ref": "#/$defs/note" },
              "negation": { "type": "string" }
            },
            "anyOf": [
              { "required": ["pattern"], "not": { "required": ["patterns"] } },
              { "required": ["patterns"], "not": { "anyOf": [ { "required": ["pattern"] }, { "required": ["forms"] } ] } },
              { "required": ["forms"], "not": { "required": ["patterns"] } }
            ]
          }
        },
        "Notes": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    }
  },

  "additionalProperties": false
}

INSTRUCTIONS:
- Use ONLY the information present in the provided data.
- Rephrase content where necessary, but do NOT add new facts.
- Merge overlapping information into a single coherent description.
- Ignore information that is not relevant to the reference schema.
- Preserve the hierarchy and ordering of the reference schema.

FEATURES AND THEIR VALUES:
- Feature names and values are prefixed with either u-, x- or sw-.
- Use the prefix "u-" for UniMorph features and values.
- Use the prefix "x-" for custom (non-UniMorph, cross-linguistic) features and values.
- Use the language prefix "swahili-" ONLY for language-specific features and values.
- When multiple representations are possible, prefer:
  1) UniMorph ("u-") features,
  2) then custom ("x-") features,
  3) and only then language-specific ("swahili-") features.
- Do NOT invent new features if an appropriate UniMorph feature exists.

SOURCE DATA:
Source 1:
Diminutive und Augmentative werden in vielen Sprachen unterschiedlich gebildet, teils nicht einmal mit diesem Präfixsystem. Speziell ist, dass die Diminutiv- und Augmentativsilben teils an den Stamm, teils an eine bereits bestehende Vorsilbe angehängt werden. Bei der Pluralbildung hat dies zur Folge, dass in gewissen Sprachen der Plural doppelt gebildet wird, also sowohl die Diminutiv-/Augmentativ- als auch die regulären Klassenvorsilben in den Pural gesetzt werden.

Bei den Diminutiven fällt auf, dass Sprachen häufiger eine eigene, zusätzliche, relativ konsistente Klasse nutzen: ka- (Sg.); tu-/ti- (Pl.)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

Source 2:
Suffixes can be stacked upon each other to make quite long verb stems with specific meanings. The passive suffix must always be last in Swahili.

-andika "to write"
→ -andikwa "to be written"
-andika "to write"
→ -andikisha "to cause to write"
→ -andikishwa "to be caused to write"
-andika "to write"
→ -andikia "to write to"
→ -andikiwa "to be written to"
-andika "to write"
→ -andikia "to write to"
→ -andikiana "to write to each other"
→ -andikianisha "to cause to write to each other"
→ -andikianishwa "to be caused to write to each other"
Here is another rather more implausible example:

-la "to eat"
→ -lika "to be edible"
→ -likia "to be edible to"
→ -likiana "to be edible to each other"
→ -likianisha "to cause to be edible to each other"
→ -likianishwa "to be caused to be edible to each other"

New verbs are readily created from simple verbs by attaching various suffixes (often called extensions) to the stem to get different shades of meaning by altering grammatical voice. Note that the final -a of common and short verbs only appears at the very end of the verb and is dropped before any suffixes. All of these derivational suffixes, in turn, also contain the final -a, which is dropped when additional suffixes (both derivational and inflectional) are appended.

The applicative suffix, frequently called the 'prepositional extension' in learning resources, adds one of various meanings to a verb usually represented by a preposition in English such as "to", "for", "in", "with" or even "from". The form of the applicative suffix varies, depending on vowel harmony and the reappearance of the /l/ which disappeared from an older stage of Swahili between the final two vowels.  

## Verbs > ### Derived verbs > #### Applicative > ##### Table 60: Applicative suffix on common verbs:

<pre>```
| Unnamed: 0                                   | Consonant-final root (Consonant + -a)   | Vowel-final root (Vowel + -a)   |
|:---------------------------------------------|:----------------------------------------|:--------------------------------|
| Preceding syllable has /a/, /i/, /u/ or /m̩/ | -ia                                     | -lia                            |
| Preceding syllable has /e/ or /o/            | -ea                                     | -lea                            |
```</pre>


-andika "to write" → -andikia "to write to"
-zungumza "to converse" → -zungumzia "to converse about", "to discuss"
-nunua "to buy" → -nunulia "to buy for"
-soma "to read" → -somea "to read to/for"
-kojoa "to urinate" → -kojolea "to urinate on/in/against"
Loan verbs usually form their applicative forms by removing their final vowel and replacing it with either -ia or -ea according to the same rules.

-rudi "to return" → -rudia "to return to"
-samehe "to forgive" → -samehea "to forgive (sb.) for (sb.)"
-hesabu "to count", "to consider" → -hesabia "to count for", "to ascribe"

The reciprocal suffix -ana adds the meaning "each other" to the verb.

-penda "to love" → -pendana "to love each other"
-andikia "to write to" → -andikiana "to write to each other"
-pata "to get, receive" → -patana "to reconcile"
-piga "to hit" → -pigana "to fight", "to hit each other"
-tii "to obey" → -tiiana "to obey each other"
The subject of a reciprocal verb is generally plural, however a singular subject may be used, often followed by na and an additional referent.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 



EXAMPLE OUTPUT (for German):
DerivationalMorphology:
  Features:
    u-Part-of-Speech: [u-n, u-v, u-adj, u-adv]
    x-Process: [x-prefixation, x-suffixation, x-compounding, x-conversion]
    u-Gender: [u-masc, u-fem, u-neut]

  Rules:
    u-Gender_u-fem__u-Part-of-Speech_u-n__x-Process_x-suffixation:
      applies: {u-Gender: u-fem, u-Part-of-Speech: u-n, x-Process: x-suffixation}
      patterns:
        - pattern: "_stem_ + heit"
          examples:
          - "schön → Schönheit"
          note: "forms abstract nouns denoting qualities"
        - pattern: "_stem_ + keit"
          examples:
          - "tapfer → Tapferkeit"
          note: "forms abstract nouns denoting qualities"
        - pattern: "_stem_ + ung"
          examples:
          - "lesen → Lesung"
          note: "action/result nouns"

    u-Gender_u-neut__u-Part-of-Speech_u-n__x-Process_x-suffixation:
      applies: {u-Gender: u-neut, u-Part-of-Speech: u-n, x-Process: x-suffixation}
      patterns:
        - pattern: "_stem_ + chen"
          examples:
          - "Hund → Hündchen"
          note: "diminutive, always neuter, often umlaut"
        - pattern: "_stem_ + lein"
          examples:
          - "Fräulein"
          note: "diminutive, always neuter"

    u-Part-of-Speech_u-n__x-Process_x-compounding:
      applies: {u-Part-of-Speech: u-n, x-Process: x-compounding}
      pattern: "Noun + Noun"
      examples:
      - "Tisch + Decke → Tischdecke"
      note: "head-final; rightmost noun determines gender and meaning"

    u-Gender_u-neut__u-Part-of-Speech_u-n__x-Process_x-conversion:
      applies: {u-Part-of-Speech: u-n, u-Gender: u-neut, x-Process: x-conversion}
      patterns:
        - pattern: "Verb → Noun"
          examples:
          - "laufen → das Laufen"
          note: "gerund-like; infinitive as neuter noun"
        - pattern: "Adjective → Noun"
          examples:
          - "grün → das Grün"
          note: "abstract quality, substance, or color"

    u-Part-of-Speech_u-v__x-Process_x-prefixation:
      applies: {u-Part-of-Speech: u-v, x-Process: x-prefixation}
      patterns:
        - pattern: "be- + _stem_"
          examples:
          - "sprechen → besprechen"
          note: "adds transitivity, valency"
        - pattern: "ver- + _stem_"
          examples:
          - "kaufen → verkaufen"
          note: "change, error, destruction, completion"
        - pattern: "zer- + _stem_"
          examples:
          - "brechen → zerbrechen"
          note: "destruction/disintegration"
        - pattern: "miss- + _stem_"
          examples:
          - "verstehen → missverstehen"
          note: "negation/mis- prefix"

    u-Part-of-Speech_u-v__x-Process_x-suffixation:
      applies: {u-Part-of-Speech: u-v, x-Process: x-suffixation}
      patterns:
        - pattern: "_stem_ + ieren"
          examples:
          - "passen → passieren"
          note: "productive for Latinate stems"
        - pattern: "_stem_ + isieren"
          examples:
          - "modern → modernisieren"
          note: "productive for Latinate stems"

    u-Part-of-Speech_u-adj__x-Process_x-prefixation:
      applies: {u-Part-of-Speech: u-adj, x-Process: x-prefixation}
      patterns:
        - pattern: "un- + _stem_"
          examples:
          - "glücklich → unglücklich"
          note: "productive negation prefix"
        - pattern: "in-/im-/ir-/il- + _stem_"
          examples:
          - "rational → irrational"
          note: "Latinate negation prefix; assimilation to following consonant"

    u-Part-of-Speech_u-adj__x-Process_x-suffixation:
      applies: {u-Part-of-Speech: u-adj, x-Process: x-suffixation}
      patterns:
        - pattern: "_stem_ + lich"
          examples:
          - "Kind → kindlich"
          note: "‘like’ or ‘characteristic of’"
        - pattern: "_stem_ + bar"
          examples:
          - "essen → essbar"
          note: "possibility or capability (‘-able’)"
        - pattern: "_stem_ + ig"
          examples:
          - "Sonne → sonnig"
          note: "possession or abundance"


OUTPUT RULES:
- Output ONLY the synthesized schema.
- Do NOT include explanations, comments, or metadata.
- Use the same formatting style as the example.

