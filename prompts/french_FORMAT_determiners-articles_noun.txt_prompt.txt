SYSTEM PROMPT:
You are an expert in the french language. You excel at inspecting linguistic data from different sources and distilling them into a specific format.

USER PROMPT:
You are a linguist tasked with normalizing grammatical descriptions for the language french.

The data you receive comes from multiple sources and relates to the following topics:
determiners, articles, noun.

Your goal is to transform the data into a structure that EXACTLY matches the reference schema provided.

REFERENCE SCHEMA (structure and headings must be followed exactly):
{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Grammar File Schema",
  "type": "object",

  "$defs": {
    "endings": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features", "form"]
    },
    "forms": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "pattern": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features"],
      "oneOf": [
        { "required": ["form"] },
        { "required": ["pattern"] }
      ]
    },
    "applies": {
      "type": "object",
      "description": "Feature-value constraints for the rule/usage"
    },
    "examples": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },
    "patterns": {
      "type": "object",
      "properties": {
        "pattern": { "type": "string" },
        "examples": { "$ref": "#/$defs/examples" },
        "note": { "$ref": "#/$defs/note" },
        "endings": {
          "type": "array",
          "items": { "$ref": "#/$defs/endings" }
        },
        "forms": {
          "type": "array",
          "items": { "$ref": "#/$defs/forms" }
        }
      },
      "oneOf": [
        { "required": ["pattern"] },
        { "required": ["forms"] }
      ]
    },
    "note": {
      "type": "string"
    }
  },

  "patternProperties": {
    "^[A-Z][A-Za-z0-9-]*$": {
      "type": "object",
      "required": ["Features", "Rules"],
      "properties": {
        "Features": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "Usage": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "note": { "$ref": "#/$defs/note" },
              "examples": { "$ref": "#/$defs/examples" }
            },
            "anyOf": [
              { "required": ["applies"] },
              { "required": ["note"] },
              { "required": ["examples"] }
            ]
          }
        },
        "Negation": {
          "type": "object",
          "required": ["examples"],
          "properties": {
            "pattern": { "type": "string" },
            "examples": { "$ref": "#/$defs/examples" },
            "note": { "$ref": "#/$defs/note" }
          }
        },
        "Rules": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": ["applies"],
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "pattern": { "type": "string" },
              "patterns": {
                "type": "array",
                "items": { "$ref": "#/$defs/patterns" }
              },
              "endings": {
                "type": "array",
                "items": { "$ref": "#/$defs/endings" }
              },
              "forms": {
                "type": "array",
                "items": { "$ref": "#/$defs/forms" }
              },
              "examples": { "$ref": "#/$defs/examples" },
              "note": { "$ref": "#/$defs/note" },
              "negation": { "type": "string" }
            },
            "anyOf": [
              { "required": ["pattern"], "not": { "required": ["patterns"] } },
              { "required": ["patterns"], "not": { "anyOf": [ { "required": ["pattern"] }, { "required": ["forms"] } ] } },
              { "required": ["forms"], "not": { "required": ["patterns"] } }
            ]
          }
        },
        "Notes": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    }
  },

  "additionalProperties": false
}

INSTRUCTIONS:
- Use ONLY the information present in the provided data.
- Rephrase content where necessary, but do NOT add new facts.
- Merge overlapping information into a single coherent description.
- Make sure to ignore information that is not relevant to the topic(s) in question: determiners, articles, noun.
- Preserve the hierarchy and ordering of the reference schema.

FEATURES AND THEIR VALUES:
- Feature names and values are prefixed with either u-, x- or fr-.
- Use the prefix "u-" for UniMorph features and values.
- Use the prefix "x-" for custom (non-UniMorph, cross-linguistic) features and values.
- Use the language prefix "french-" ONLY for language-specific features and values.
- When multiple representations are possible, prefer:
  1) UniMorph ("u-") features,
  2) then custom ("x-") features,
  3) and only then language-specific ("french-") features.
- Do NOT invent new features if an appropriate UniMorph feature exists.

SOURCE DATA:
Source 1:
Articles and determiners agree in gender and number with the noun they determine; unlike with nouns, this inflection is made in speech as well as in writing.
French has three articles: definite, indefinite, and partitive. The difference between the definite and indefinite articles is similar to that in English (definite: the; indefinite: a, an), except that the indefinite article has a plural form (similar to some, though English normally does not use an article before indefinite plural nouns). The partitive article is similar to the indefinite article but used for uncountable singular nouns.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 



EXAMPLE OUTPUT (for German):
Determiner:
  Features:
    u-Definiteness: [u-def, u-indf]
    u-Gender: [u-masc, u-fem, u-neut]
    u-Number: [u-sg, u-pl]
    u-Case: [u-nom, u-acc, u-dat, u-gen]

  Rules:
    u-Definiteness_u-def:
      applies: {u-Definiteness: u-def}
      forms:
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-nom}
          form: "der"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-acc}
          form: "den"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-dat}
          form: "dem"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-gen}
          form: "des"

        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-nom}
          form: "die"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-acc}
          form: "die"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-dat}
          form: "der"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-gen}
          form: "der"

        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-nom}
          form: "das"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-acc}
          form: "das"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-dat}
          form: "dem"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-gen}
          form: "des"

        - features: {u-Number: u-pl, u-Case: u-nom}
          form: "die"
        - features: {u-Number: u-pl, u-Case: u-acc}
          form: "die"
        - features: {u-Number: u-pl, u-Case: u-dat}
          form: "den"
        - features: {u-Number: u-pl, u-Case: u-gen}
          form: "der"

    u-Definiteness_u-indf:
      applies: {u-Definiteness: u-indf}
      forms:
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-nom}
          form: "ein"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-acc}
          form: "einen"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-dat}
          form: "einem"
        - features: {u-Gender: u-masc, u-Number: u-sg, u-Case: u-gen}
          form: "eines"

        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-nom}
          form: "eine"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-acc}
          form: "eine"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-dat}
          form: "einer"
        - features: {u-Gender: u-fem, u-Number: u-sg, u-Case: u-gen}
          form: "einer"

        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-nom}
          form: "ein"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-acc}
          form: "ein"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-dat}
          form: "einem"
        - features: {u-Gender: u-neut, u-Number: u-sg, u-Case: u-gen}
          form: "eines"
      note: "no plural indefinite"


OUTPUT RULES:
- Output ONLY the synthesized schema.
- Do NOT include explanations, comments, or metadata.
- Use the same formatting style as the example.
- Do not take content from the example; it is only to illustrate the format.


