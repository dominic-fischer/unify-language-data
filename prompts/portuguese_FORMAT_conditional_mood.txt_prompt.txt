SYSTEM PROMPT:
You are an expert in the portuguese language. You excel at inspecting linguistic data from different sources and distilling them into a specific format.

USER PROMPT:
You are a linguist that specialises in distilling linguistic information. Your goal is to transform the data into a structure that satisfies the constraints specified in the validation schema provided.

VALIDATION SCHEMA (structure and headings must be followed exactly):
{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Grammar File Schema",
  "type": "object",

  "$defs": {
    "endings": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features", "form"]
    },
    "forms": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "pattern": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features"],
      "oneOf": [
        { "required": ["form"] },
        { "required": ["pattern"] }
      ]
    },
    "applies": {
      "type": "object",
      "description": "Feature-value constraints for the rule/usage"
    },
    "examples": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },
    "patterns": {
      "type": "object",
      "properties": {
        "pattern": { "type": "string" },
        "examples": { "$ref": "#/$defs/examples" },
        "note": { "$ref": "#/$defs/note" },
        "endings": {
          "type": "array",
          "items": { "$ref": "#/$defs/endings" }
        },
        "forms": {
          "type": "array",
          "items": { "$ref": "#/$defs/forms" }
        }
      },
      "oneOf": [
        { "required": ["pattern"] },
        { "required": ["forms"] }
      ]
    },
    "note": {
      "type": "string"
    }
  },

  "patternProperties": {
    "^[A-Z][A-Za-z0-9-]*$": {
      "type": "object",
      "required": ["Features", "Rules"],
      "properties": {
        "Features": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "Usage": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "note": { "$ref": "#/$defs/note" },
              "examples": { "$ref": "#/$defs/examples" }
            },
            "anyOf": [
              { "required": ["applies"] },
              { "required": ["note"] },
              { "required": ["examples"] }
            ]
          }
        },
        "Negation": {
          "type": "object",
          "required": ["examples"],
          "properties": {
            "pattern": { "type": "string" },
            "examples": { "$ref": "#/$defs/examples" },
            "note": { "$ref": "#/$defs/note" }
          }
        },
        "Rules": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": ["applies"],
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "pattern": { "type": "string" },
              "patterns": {
                "type": "array",
                "items": { "$ref": "#/$defs/patterns" }
              },
              "endings": {
                "type": "array",
                "items": { "$ref": "#/$defs/endings" }
              },
              "forms": {
                "type": "array",
                "items": { "$ref": "#/$defs/forms" }
              },
              "examples": { "$ref": "#/$defs/examples" },
              "note": { "$ref": "#/$defs/note" },
              "negation": { "type": "string" }
            },
            "anyOf": [
              { "required": ["pattern"], "not": { "required": ["patterns"] } },
              { "required": ["patterns"], "not": { "anyOf": [ { "required": ["pattern"] }, { "required": ["forms"] } ] } },
              { "required": ["forms"], "not": { "required": ["patterns"] } }
            ]
          }
        },
        "Notes": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    }
  },

  "additionalProperties": false
}

The schema consists of RULES, each applying to a specific grammatical FEATURE and its ATTRIBUTE.
Each Rule must contain:
- A name: built by joining feature-attribute pairs with an underscore, and a double underscore between different pairs.
- the 'applies' field: specifies to which feature-attribute pair the rule applies. Note that no two rules should have the same 'applies' field. In that case, the two rules should be combined to form one with a 'patterns' field.
- either a field 'pattern' or 'patterns' or 'forms':
   - a 'pattern' is a string-like template
   - 'patterns' is a list of sub-patterns, that each contain either 'pattern' or 'forms', and may include 'examples', 'notes' or 'endings.
   - 'forms' is a list of specific word forms. It must contain 'features' and either 'form' or 'pattern'. It may also include a 'note' field.
- it may include the fields 'notes', 'examples' or 'endings'.
   - 'endings' must include 'features' and 'form', and may include a 'note' field.
The 'Features' field on the same level as 'Rules' is the set of all features and their attributes used in the rules.
There are also other optional fields at the top level, 'Negation' and 'Usage'. 'Usage' is used to specify usage of a tense, 'Negation' is used to specify negation in that tense. They should only be used in schemas pertaining to tenses. Both may contain 'pattern', 'note' or 'examples' fields, 'Usage' may additionally contain 'applies'.

INSTRUCTIONS:
- Use ONLY the information present in the provided data.
- Rephrase content where necessary, but do NOT add new facts.
- Merge overlapping information into a single coherent description.
- Preserve the hierarchy and ordering of the reference schema.
- Ignore any information that is not relevant to the topic at hand.

FEATURES AND THEIR VALUES:
- Feature names and values are prefixed with either u-, x- or the language's abbreviation as a prefix.
- Use the language prefix ONLY for language-specific features and values.
- Use the prefix "u-" for UniMorph features and values.
- Use the prefix "x-" for custom (non-UniMorph, cross-linguistic) features and values.
- When multiple representations are possible, prefer:
  1) UniMorph ("u-") features,
  2) then custom ("x-") features,
  3) and only then language-specific features.

- Do NOT invent new features if an appropriate UniMorph feature exists.

Below are the features for reference:
UNIMORPH FEATURES AND VALUES:
{
  "u-Aktionsart": {
    "u-accmp": "Accomplishment",
    "u-ach": "Achievement",
    "u-acty": "Activity",
    "u-atel": "Atelic",
    "u-dur": "Durative",
    "u-dyn": "Dynamic",
    "u-pct": "Punctual",
    "u-semel": "Semelfactive",
    "u-stat": "Stative",
    "u-tel": "Telic"
  },
  "u-Animacy": {
    "u-anim": "Animate",
    "u-hum": "Human",
    "u-inan": "Inanimate",
    "u-nhum": "Non-human"
  },
  "u-Aspect": {
    "u-hab": "Habitual",
    "u-ipfv": "Imperfective",
    "u-iter": "Iterative",
    "u-pfv": "Perfective",
    "u-prf": "Perfect",
    "u-prog": "Progressive",
    "u-prosp": "Prospective"
  },
  "u-Case": {
    "u-abl": "Ablative",
    "u-abs": "Absolutive",
    "u-acc": "Accusative",
    "u-all": "Allative",
    "u-ante": "Near, in front of",
    "u-apprx": "Approximative",
    "u-apud": "Next to",
    "u-at": "At",
    "u-avr": "Aversive",
    "u-ben": "Benefactive",
    "u-byway": "Essive-modal",
    "u-circ": "Near",
    "u-com": "Comitative",
    "u-compv": "Comparative",
    "u-dat": "Dative",
    "u-eqtv": "Equative",
    "u-erg": "Ergative",
    "u-ess": "Essive",
    "u-frml": "Formal",
    "u-gen": "Genitive",
    "u-in": "In",
    "u-ins": "Instrumental",
    "u-inter": "Among",
    "u-nom": "Nominative",
    "u-noms": "Nominative, S-only",
    "u-on": "On",
    "u-onhr": "On (horizontal)",
    "u-onvr": "On (vertical)",
    "u-post": "Behind",
    "u-priv": "Privative",
    "u-prol": "Prolative/translative",
    "u-propr": "Proprietive",
    "u-prox": "Proximate",
    "u-prp": "Purposive",
    "u-prt": "Partitive",
    "u-rel": "Relative",
    "u-rem": "Distal",
    "u-sub": "Under",
    "u-term": "Terminative",
    "u-trans": "Translative",
    "u-vers": "Versative",
    "u-voc": "Vocative"
  },
  "u-Comparison": {
    "u-ab": "Absolute",
    "u-cmpr": "Comparative",
    "u-eqt": "Equative",
    "u-rl": "Relative",
    "u-sprl": "Superlative"
  },
  "u-Definiteness": {
    "u-def": "Definite",
    "u-indf": "Indefinite",
    "u-nspec": "Non-Specific",
    "u-spec": "Specific"
  },
  "u-Deixis": {
    "u-abv": "Above",
    "u-bel": "Below",
    "u-even": "Even",
    "u-med": "Medial",
    "u-noref": "No Reference Point, Distal",
    "u-nvis": "Invisible",
    "u-phor": "Phoric, situated in discourse",
    "u-prox": "Proximate",
    "u-ref1": "First Person Reference Point",
    "u-ref2": "Second Person Reference Point",
    "u-remt": "Remote",
    "u-vis": "Visible"
  },
  "u-Evidentiality": {
    "u-assum": "Assumed",
    "u-aud": "Auditory",
    "u-drct": "Direct",
    "u-fh": "Firsthand",
    "u-hrsy": "Hearsay",
    "u-infer": "Inferred",
    "u-nfh": "Non-firsthand",
    "u-nvsen": "Non-visual sensory",
    "u-quot": "Quotative",
    "u-rprt": "Reported",
    "u-sen": "Sensory"
  },
  "u-Finiteness": {
    "u-fin": "Finite",
    "u-nfin": "Nonfinite"
  },
  "u-Gender": {
    "u-bantu1-23": "Bantu Noun Classes",
    "u-fem": "Feminine",
    "u-masc": "Masculine",
    "u-nakh1-8": "Nakh-Daghestanian Noun Classes",
    "u-neut": "Neuter"
  },
  "u-Information Structure": {
    "u-foc": "Focus",
    "u-top": "Topic"
  },
  "u-Interrogativity": {
    "u-decl": "Declarative",
    "u-int": "Interrogative"
  },
  "u-Mood": {
    "u-adm": "Admirative",
    "u-aunprp": "Australian Non-Purposive",
    "u-auprp": "Australian Purposive",
    "u-cond": "Conditional",
    "u-deb": "Debitive",
    "u-ded": "Deductive",
    "u-imp": "Imperative-Jussive",
    "u-ind": "Indicative",
    "u-inten": "Intentive",
    "u-irr": "Irrealis",
    "u-lkly": "Likely",
    "u-oblig": "Obligative",
    "u-opt": "Optative-Desiderative",
    "u-perm": "Permissive",
    "u-pot": "Potential",
    "u-purp": "General Purposive",
    "u-real": "Realis",
    "u-sbjv": "Subjunctive",
    "u-sim": "Simulative"
  },
  "u-Number": {
    "u-du": "Dual",
    "u-gpauc": "Greater paucal",
    "u-grpl": "Greater plural",
    "u-invn": "Inverse",
    "u-pauc": "Paucal",
    "u-pl": "Plural",
    "u-sg": "Singular",
    "u-tri": "Trial"
  },
  "u-Part-of-Speech": {
    "u-adj": "Adjective",
    "u-adp": "Adposition",
    "u-adv": "Adverb",
    "u-art": "Article",
    "u-aux": "Auxiliary",
    "u-clf": "Classifier",
    "u-comp": "Complementizer",
    "u-conj": "Conjunction",
    "u-det": "Determiner",
    "u-intj": "Interjection",
    "u-n": "Noun",
    "u-num": "Numeral",
    "u-part": "Particle",
    "u-pro": "Pronoun",
    "u-propn": "Proper Name",
    "u-v": "Verb",
    "u-v.cvb": "Converb",
    "u-v.msdr": "Masdar",
    "u-v.ptcp": "Participle"
  },
  "u-Person": {
    "u-0": "Zero person",
    "u-1": "First person",
    "u-2": "Second person",
    "u-3": "Third person",
    "u-4": "Fourth person",
    "u-excl": "Exclusive",
    "u-incl": "Inclusive",
    "u-obv": "Obviative",
    "u-prx": "Proximate"
  },
  "u-Polarity": {
    "u-pos": "Positive",
    "u-neg": "Negative"
  },
  "u-Politeness": {
    "u-avoid": "Avoidance style",
    "u-col": "Colloquial",
    "u-elev": "Formal, Referent Elevating",
    "u-foreg": "Formal register",
    "u-form": "Formal",
    "u-high": "High status",
    "u-humb": "Formal, Speaker Humbling",
    "u-infm": "Informal",
    "u-lit": "Literary",
    "u-low": "Low status",
    "u-pol": "Polite",
    "u-stelev": "High status, elevated",
    "u-stsupr": "High status, supreme"
  },
  "u-Tense": {
    "u-1day": "Within 1 day",
    "u-fut": "Future",
    "u-hod": "Hodiernal",
    "u-immed": "Immediate",
    "u-prs": "Present",
    "u-pst": "Past",
    "u-rct": "Recent",
    "u-rmt": "Remote"
  },
  "u-Valency": {
    "u-appl": "Applicative",
    "u-caus": "Causative",
    "u-ditr": "Ditransitive",
    "u-imprs": "Impersonal",
    "u-intr": "Intransitive",
    "u-recp": "Reciprocal",
    "u-refl": "Reflexive",
    "u-tr": "Transitive"
  },
  "u-Voice": {
    "u-acfoc": "Accompanier Focus",
    "u-act": "Active",
    "u-agfoc": "Agent Focus",
    "u-antip": "Antipassive",
    "u-bfoc": "Beneficiary Focus",
    "u-cfoc": "Conveyed Focus",
    "u-dir": "Direct",
    "u-ifoc": "Instrument Focus",
    "u-inv": "Inverse",
    "u-lfoc": "Location Focus",
    "u-mid": "Middle",
    "u-pass": "Passive",
    "u-pfoc": "Patient Focus"
  }
}

CUSTOM FEATURES AND VALUES:
{
  "x-Process": [
    "x-base-form",
    "x-adj-as-adv",
    "x-complex",
    "x-modification",
    "x-prefixation",
    "x-suffixation",
    "x-compounding",
    "x-conversion"
  ],
  "x-Domain": [
    "x-subject-verb",
    "x-noun-adjective",
    "x-noun-determiner"
  ],
  "x-Clausetype": [
    "x-main",
    "x-subordinate",
    "x-int-yes-no",
    "x-int-wh",
    "x-excl",
    "x-protasis",
    "x-apodosis"
  ],
  "x-Word-order": [
    "x-V2",
    "x-Vfinal",
    "x-V1"
  ],
  "x-Negation-type": [
    "x-clause",
    "x-constituent"
  ],
  "x-Constituent": [
    "x-NP",
    "x-VP",
    "x-AP",
    "x-PP",
    "x-AdvP",
    "x-CP"
  ],
  "x-Passive-type": [
    "x-process",
    "x-state"
  ],
  "x-Pronoun-type": [
    "x-pers",
    "x-refl",
    "x-dem",
    "x-poss",
    "x-int",
    "x-rel"
  ],
  "x-Form-type": [
    "x-standalone",
    "x-clitic"
  ]
}

OUTPUT FORMAT CONSTRAINTS:
- Output ONLY the synthesized schema.
- The output must be in a human-readable, YAML-like text format (as in the example).
- The output is NOT JSON.
- The structure, keys, nesting, and values must correspond exactly to the provided validation schema.
- The output must be directly convertible to valid JSON without adding, removing, or reinterpreting information.
- Do NOT include empty objects or sections unless they are required by the schema.
- Do NOT include explanations, comments, or metadata.
- Do not take content from the example; it only illustrates the format.


You are a now tasked with normalizing grammatical descriptions for the language portuguese according to the guidelines outlined above.

The data you receive comes from multiple sources and relates to the following topics:
conditional, mood.

SOURCE DATA:
Source 1:
Grammarians usually classify the verbal inflections (i.e. the synthetic verb forms) into the following moods, tenses, and non-finite forms:

indicative mood, used in the main clauses of declarative sentences:
present tense: cantamos, "we sing"
past tenses:
preterite: cantámos (EP), cantamos (BP) "we sang"
imperfect: cantávamos, "we were singing"
pluperfect: cantáramos, "we had sung"
future tense: cantaremos, "we will sing"
conditional mood:
conditional tense: cantaríamos, "we would sing"
subjunctive mood used in certain subordinate clauses:
present subjunctive: que cantemos, "that we sing"
preterite subjunctive: se cantássemos, "if we sang"
future subjunctive: se cantarmos, "if we sing/should we sing"
imperative mood: used to express a command, advice, encouragement, etc.:
positive: canta! "sing!"
negative: não cantes! "don't sing!"
verbals
infinitives:
impersonal: cantar, "to sing"
personal: cantarmos, "for us to sing", "that we sing" or "our singing"
participles:
present participle: cantando "singing"
past (or passive) participle: cantado "sung"
The conditional tense is usually called "future of the past" in Brazilian grammars, whereas in Portugal it is usually classified as a separate "conditional mood". Portuguese grammarians call subjunctive "conjuntivo"; Brazilians call it "subjuntivo".
Note that the synthetic future and conditional have largely disappeared from everyday speech.  The synthetic future is generally replaced by ir + infinitive (e.g. vou cantar "I will sing"), while the conditional is replaced either by the imperfect (especially in its modal use; se você me desse dinheiro, eu cantava "if you gave me money, I would sing") or by the imperfect of ir + infinitive (in its non-modal, "future of the past" usage; ele disse que ia cantar "he said that he would sing").  However, the synthetic future subjunctive is still in common use (e.g. se você for "if you should go").  The synthetic future and conditional of verbs with one-syllable infinitives also sometimes occur (e.g. será/seria "it will/would be" or in the compound tenses terá/teria sido "it will/would have been").
In regular verbs, the personal infinitive is identical to the subjunctive future tense; but they are different in irregular verbs: quando formos ("when we go", subjunctive) versus é melhor irmos ("it is better that we go").
There are also many compound tenses expressed with inflected forms of the auxiliary verbs ser and estar (variants of "to be"), haver and ter (variants of "to have").

The Portuguese subjunctive mood is used mainly in certain kinds of subordinate clauses. There are three synthetic subjunctive inflections, conventionally called "present", "past" and "future". The rules of usage, in broad terms, are the following:

The present subjunctive is used in clauses, often introduced with que ("that"), which express generally non-assertive notions, such as wishes, orders, possibilities, etc.:
quero que cante, "I want her/him to sing"
supondo que cante, "assuming that he/she will sing"
ele será pago, cante ou não, "he will be paid, whether he sings or not"
The past subjunctive is used for adverbial subordinate clauses, introduced with se ("if") or equivalent, that are conditions for a main cause in the conditional tense.
se cantasse, seria famoso ("if he/she sang [if he/she were a singer], he/she would be famous")
se cantasse, teríamos aplaudido ("if he/she had sung, we would have applauded")
It is also used for noun clauses, introduced with que, that are the object of past wishes or commands:

esperávamos que cantasse ("we hoped that he would sing")
eu mandei que cantassem ("I ordered them to sing")
The future subjunctive is an uncommon feature among Indo-European languages. It is used in adverbial subordinate clauses, usually introduced by se ("if") or quando ("when"), or in adjectival subordinate clauses that express a neutral or expected condition for a present- or future-tense main clause:
se cantarmos, seremos pagos ("If we (should) sing, we will be paid")
se cantarmos, ele fica ("If we (should) sing, he stays")
quando cantarmos, ele escutará ("When we (should) sing, he will listen")
Often, the option between indicative and subjunctive depends on whether the speaker does or does not endorse the proposition expressed by the subordinate clause:
Admito que ele roubou a bicicleta. ("I admit that he stole the bicycle.")
Admito que ele possa ter roubado a bicicleta. ("I admit that he could have stolen the bicycle.")
In relative clauses, the option between indicative and subjunctive depends on whether the speaker does or does not identify a single object with the property expressed by the relative clause:
Ando à procura de um cão que fala! ("I'm looking for a certain dog which can speak!")
Ando à procura de um cão que fale! ("I'm looking for any dog that speaks!")
More on the subjunctive mood in Portuguese can be found at Wikibooks: Variation of the Portuguese Verbs.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 



EXAMPLE OUTPUT (for German):
Use this ONLY as an illustration of the format, do NOT copy any content from it.
Conditionals:
  Features:
    u-Tense: [u-prs, u-pst, u-fut]
    u-Mood: [u-irr, u-real]
    x-Clausetype: [x-protasis, x-apodosis]
  Negation:
    applies: {x-Negation-type: x-clause}
    note: "Regular negation."
    examples:
    - "Auch wenn er nicht bald kommen sollte, gehen wir nicht ohne ihn."
  Rules:
    u-Tense_u-fut__x-Clausetype_x-protasis:
      applies: {u-Tense: u-fut, x-Clausetype: x-protasis}
      pattern: "{de-praesens}"
      examples:
      - "Wenn er kommt, ..."

    u-Tense_u-fut__x-Clausetype_x-apodosis:
      applies: {u-Tense: u-fut, x-Clausetype: x-apodosis}
      pattern: "{de-futur-I}"
      examples:
      - "..., werden wir gehen."

    u-Mood_u-real__u-Tense_u-prs__x-Clausetype_x-protasis:
      applies: {u-Tense: u-prs, x-Clausetype: x-protasis, u-Mood: u-real}
      pattern: "{de-praesens}"
      examples:
      - "wenn er kommt, ..."

    u-Mood_u-real__u-Tense_u-prs__x-Clausetype_x-apodosis:
      applies: {u-Tense: u-prs, x-Clausetype: x-apodosis, u-Mood: u-real}
      pattern: "{de-praesens}/{de-futur-I}"
      examples:
      - "..., gehen wir."


    u-Mood_u-irr__u-Tense_u-prs__x-Clausetype_x-protasis:
      applies: {u-Tense: u-prs, x-Clausetype: x-protasis, u-Mood: u-irr}
      patterns:
      - pattern: "{de-konjunktiv-II} present (synthetic)"
        examples:
        - "Wenn er käme, ..."
      - pattern: "{de-konjunktiv-II} present (periphrastic)"
        examples:
        - "Wenn er kommen würde, ..."
        note: "dominant in modern usage"

    u-Mood_u-irr__u-Tense_u-prs__x-Clausetype_x-apodosis:
      applies: {u-Tense: u-prs, x-Clausetype: x-apodosis, u-Mood: u-irr}
      patterns:
      - pattern: "{de-konjunktiv-II} present (synthetic)"
        examples:
        - "..., gingen wir."
        note: "less common in modern usage, survives with sein/haben/modals"
      - pattern: "{de-konjunktiv-II} present (periphrastic)"
        examples:
        - "..., würden wir gehen."
        note: "dominant in modern usage"


    u-Mood_u-irr__u-Tense_u-pst__x-Clausetype_x-protasis:
      applies: {u-Tense: u-pst, x-Clausetype: x-protasis, u-Mood: u-irr}
      pattern: "{de-konjunktiv-II} past"
      examples:
      - "wenn er gegangen wäre, ..."

    u-Mood_u-irr__u-Tense_u-pst__x-Clausetype_x-apodosis:
      applies: {u-Tense: u-pst, x-Clausetype: x-apodosis, u-Mood: u-irr}
      pattern: "{de-konjunktiv-II} past"
      examples:
      - "..., hätten wir gewonnen."

    



