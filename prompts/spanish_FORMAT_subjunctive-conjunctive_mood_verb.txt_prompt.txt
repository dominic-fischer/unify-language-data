SYSTEM PROMPT:
You are an expert in the spanish language. You excel at inspecting linguistic data from different sources and distilling them into a specific format.

USER PROMPT:
You are a linguist tasked with normalizing grammatical descriptions for the language spanish.

The data you receive comes from multiple sources and relates to the following topics:
subjunctive, conjunctive, mood, verb.

Your goal is to transform the data into a structure that EXACTLY matches the reference schema provided.

REFERENCE SCHEMA (structure and headings must be followed exactly):
{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Grammar File Schema",
  "type": "object",

  "$defs": {
    "endings": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features", "form"]
    },
    "forms": {
      "type": "object",
      "properties": {
        "features": { "type": "object" },
        "form": { "type": "string" },
        "pattern": { "type": "string" },
        "note": { "type": "string" }
      },
      "required": ["features"],
      "oneOf": [
        { "required": ["form"] },
        { "required": ["pattern"] }
      ]
    },
    "applies": {
      "type": "object",
      "description": "Feature-value constraints for the rule/usage"
    },
    "examples": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },
    "patterns": {
      "type": "object",
      "properties": {
        "pattern": { "type": "string" },
        "examples": { "$ref": "#/$defs/examples" },
        "note": { "$ref": "#/$defs/note" },
        "endings": {
          "type": "array",
          "items": { "$ref": "#/$defs/endings" }
        },
        "forms": {
          "type": "array",
          "items": { "$ref": "#/$defs/forms" }
        }
      },
      "oneOf": [
        { "required": ["pattern"] },
        { "required": ["forms"] }
      ]
    },
    "note": {
      "type": "string"
    }
  },

  "patternProperties": {
    "^[A-Z][A-Za-z0-9-]*$": {
      "type": "object",
      "required": ["Features", "Rules"],
      "properties": {
        "Features": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "Usage": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "note": { "$ref": "#/$defs/note" },
              "examples": { "$ref": "#/$defs/examples" }
            },
            "anyOf": [
              { "required": ["applies"] },
              { "required": ["note"] },
              { "required": ["examples"] }
            ]
          }
        },
        "Negation": {
          "type": "object",
          "required": ["examples"],
          "properties": {
            "pattern": { "type": "string" },
            "examples": { "$ref": "#/$defs/examples" },
            "note": { "$ref": "#/$defs/note" }
          }
        },
        "Rules": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": ["applies"],
            "properties": {
              "applies": { "$ref": "#/$defs/applies" },
              "pattern": { "type": "string" },
              "patterns": {
                "type": "array",
                "items": { "$ref": "#/$defs/patterns" }
              },
              "endings": {
                "type": "array",
                "items": { "$ref": "#/$defs/endings" }
              },
              "forms": {
                "type": "array",
                "items": { "$ref": "#/$defs/forms" }
              },
              "examples": { "$ref": "#/$defs/examples" },
              "note": { "$ref": "#/$defs/note" },
              "negation": { "type": "string" }
            },
            "anyOf": [
              { "required": ["pattern"], "not": { "required": ["patterns"] } },
              { "required": ["patterns"], "not": { "anyOf": [ { "required": ["pattern"] }, { "required": ["forms"] } ] } },
              { "required": ["forms"], "not": { "required": ["patterns"] } }
            ]
          }
        },
        "Notes": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    }
  },

  "additionalProperties": false
}

INSTRUCTIONS:
- Use ONLY the information present in the provided data.
- Rephrase content where necessary, but do NOT add new facts.
- Merge overlapping information into a single coherent description.
- Ignore information that is not relevant to the reference schema.
- Preserve the hierarchy and ordering of the reference schema.

FEATURES AND THEIR VALUES:
- Feature names and values are prefixed with either u-, x- or es-.
- Use the prefix "u-" for UniMorph features and values.
- Use the prefix "x-" for custom (non-UniMorph, cross-linguistic) features and values.
- Use the language prefix "spanish-" ONLY for language-specific features and values.
- When multiple representations are possible, prefer:
  1) UniMorph ("u-") features,
  2) then custom ("x-") features,
  3) and only then language-specific ("spanish-") features.
- Do NOT invent new features if an appropriate UniMorph feature exists.

SOURCE DATA:
Source 1:
The subjunctive of a verb is used to express certain connotations in sentences such as a wish or desire, a demand, an emotion, uncertainty, or doubt.

Normally, a verb would be conjugated in the present indicative to indicate an event in the present frame of time.

Yo soy muy ambicioso. (I am very ambitious)
Marta trae la comida. (Marta brings the food)
If the sentence expresses a desire, demand, or emotion, or something similar, in the present tense, the subjunctive is used.

Quiero que seas muy ambicioso. (I want you to be very ambitious—literally, I want that you be very ambitious)
Me alegro de que Marta traiga la comida. (I am happy that Marta brings the food)
Es una lástima que llegues tarde. (It is a shame that you arrive late)
The subjunctive is also used to convey doubt, denial, or uncertainty.

Busco un amigo que sea simpático. (I search for a friend who will be likable or I search for a likable friend)
No hay ningún autor que lo escriba. (There are no authors who write that.)
Es posible que ella sepa mucho. (It is possible that she knows a lot.)
No parece que tengan mucho dinero. (It does not seem that they have much money.)
In the first two examples, the ideally likable friend has not yet been found and remains an uncertainty, and authors "who write that" are not known to exist. In the third, possibility is not certainty, but rather a conjecture, and the last expresses clear doubt. Thus, subjunctive is used.
Some of the phrases and verbs that require sentences to have subjunctive formation include:

Dudar, negar, esperar, alegrarse de, temer, sentir, pedir, aconsejar, exigir, desear, querer, mandar
Es necesario que, conviene que, no parece que, es dudoso que, es probable que, no creo que, importa que, parece mentira que
Some phrases that require the indicative instead, because they express certainty, include:

Es verdad que, es obvio que, es seguro que, parece que, es evidente que, creo que
To form the first-person singular subjunctive, first take the present indicative first-person singular (yo) form of a verb. For example, the verbs hablar, comer, and vivir (To talk, to eat, to live) → Yo hablo, yo como, yo vivo. Then, replace the ending o with the "opposite ending". This is done in the following way: if the verb is an -er or -ir verb such as comer, poder, vivir, or compartir, replace the ending o with an a i.e. : Yo como; yo puedo; yo vivo → Yo coma; yo pueda; yo viva. If the verb is an -ar verb such as hablar or caminar replace the ending o with an e: i.e., Yo hablo; yo camino → Yo hable, yo camine. This forms the first-person conjugation. The other conjugations work similarly, as follows:

Yo → Yo hable; yo coma; yo viva
Tú → Tú hables; tú comas; tú vivas
Él/Ella/Usted → Él hable; él coma; él viva
Nosotros → Nosotros hablemos; nosotros comamos; nosotros vivamos
Vosotros → Vosotros habléis; vosotros comáis; vosotros viváis
Ellos/Ellas/Ustedes → ellos hablen; ellos coman; ellos vivan
Since the vos forms are derived from vosotros, the following would be expected (and used in Central America):

Vos → Vos hablés; vos comás; vos escribás
However, the Royal Spanish Academy, following Argentinian usage, recommends using the tú forms:

Vos → Vos hables; vos comas; vos escribas

Today, the two forms of the imperfect subjunctive – for example, "hubiese" and "hubiera", from "haber" – are largely interchangeable.*  The -se form derives (as in most Romance languages) from the Latin pluperfect subjunctive, while the -ra form derives from the Latin pluperfect indicative. The use of one or the other is largely a matter of personal taste and dialect. Many only use the -ra forms in speech, but vary between the two in writing.  Many may spontaneously use either, or even prefer the rarer -se forms. The imperfect subjunctive is formed for basically the same reasons as the present subjunctive, but is used for other tenses and time frames.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 



EXAMPLE OUTPUT (for German):
Subjunctive:
  Features:
    de-Tense-type: [de-subj-I, de-subj-II]
    u-Tense: [u-prs, u-pst, u-fut]

  Negation:
    applies: {x-Negation-type: x-clause}
    note: "Regular negation."
    examples:
    - "Ich persönlich würde das nicht jeden Tag tun."

  Usage:
    de-subj-I:
      applies: {u-Evidentiality: u-quot}
      examples:
        - "u-quot: Er sagte, er sei krank."
        - "u-quot: Die Zeitung berichtet, die Preise stiegen weiter."
      note: "Subjunctive I (Konjunktiv I) is primarily used for indirect/reported speech, especially in formal registers (newspapers, academic writing). It marks distancing of the speaker from the truth of the proposition."

    de-subj-II:
      applies: {u-Mood: u-irr, u-Politeness: u-pol}
      examples:
        - "u-irr: Wenn ich Zeit hätte, käme ich vorbei."
        - "u-irr: An deiner Stelle würde ich das nicht tun."
        - "u-pol: Ich hätte gern einen Kaffee."
        - "u-pol: Könnten Sie mir bitte helfen?"
      note: "Subjunctive II (Konjunktiv II) expresses counterfactuality, unreality, or politeness. In modern usage, synthetic forms survive mostly in a few verbs (sein, haben, modals), while the würde + infinitive construction dominates otherwise."

  Rules:
    de-Tense-type_de-subj-I__u-Tense_u-prs:
      applies: {de-Tense-type: de-subj-I, u-Tense: u-prs}
      pattern: "_present stem_ + _endings_"
      endings:
      - {features: {u-Person: u-1, u-Number: u-sg}, form: "e"}       # ich habe
      - {features: {u-Person: u-2, u-Number: u-sg}, form: "est"}     # du habest
      - {features: {u-Person: u-3, u-Number: u-sg}, form: "e"}       # er habe
      - {features: {u-Person: u-1, u-Number: u-pl}, form: "en"}      # wir haben
      - {features: {u-Person: u-2, u-Number: u-pl}, form: "et"}      # ihr habet
      - {features: {u-Person: u-3, u-Number: u-pl}, form: "en"}      # sie haben
      examples:
      - "Er sagte, er ginge bald."

    de-Tense-type_de-subj-I__u-Tense_u-pst:
      applies: {de-Tense-type: de-subj-I, u-Tense: u-pst}
      pattern: "haben/sein in Subjunctive I + past participle"
      examples:
      - "Er hat gesagt, er sei gegangen."

    de-Tense-type_de-subj-I__u-Tense_u-fut:
      applies: {de-Tense-type: de-subj-I, u-Tense: u-fut}
      pattern: "werden in Subjunctive I + infinitive"
      examples:
      - "Er sagte, er werde gehen."

    de-Tense-type_de-subj-II__u-Tense_u-prs:
      applies: {de-Tense-type: de-subj-II, u-Tense: u-prs}
      patterns:
      - pattern: "_preterite stem (ablaut/umlaut)_ + _endings_"
        endings:
        - {features: {u-Person: u-1, u-Number: u-sg}, form: "e"}        # ich ginge
        - {features: {u-Person: u-2, u-Number: u-sg}, form: "est"}      # du gingest
        - {features: {u-Person: u-3, u-Number: u-sg}, form: "e"}        # er ginge
        - {features: {u-Person: u-1, u-Number: u-pl}, form: "en"}       # wir gingen
        - {features: {u-Person: u-2, u-Number: u-pl}, form: "et"}       # ihr ginget
        - {features: {u-Person: u-3, u-Number: u-pl}, form: "en"}       # sie gingen
        examples:
        - "ich ginge"
      - pattern: "würde (Konjunktiv II) + infinitive"
        examples:
        - "ich würde gehen"
        note: "dominant form for most verbs in modern usage"

    de-Tense-type_de-subj-II__u-Tense_u-pst:
      applies: {de-Tense-type: de-subj-II, u-Tense: u-pst}
      pattern: "hätte/wäre (Konjunktiv II) + past participle"
      examples:
      - "ich hätte gesagt, ich wäre gegangen"
      note: "used for counterfactuals about the past"

    de-Tense-type_de-subj-II__u-Tense_u-fut:
      applies: {de-Tense-type: de-subj-II, u-Tense: u-fut}
      pattern: "würde (Konjunktiv II) + past participle + haben/sein infinitive"
      examples:
      - "ich würde gegangen sein"
      note: "rare; equivalent to Future II under subjunctive"


OUTPUT RULES:
- Output ONLY the synthesized schema.
- Do NOT include explanations, comments, or metadata.
- Use the same formatting style as the example.

